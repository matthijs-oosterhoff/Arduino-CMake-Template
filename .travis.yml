language: cpp
sudo: false
dist: trusty
os:
  - linux

addons:
  apt:
    packages:
      - gcc-vr
      - binutils-avr
      - avr-libc
      - cmake

before_install:
  - wget http://downloads.arduino.cc/arduino-1.8.3-linux64.tar.xz
  - tar xf arduino-1.8.3-linux64.tar.xz
  - sudo mv arduino-1.8.3 ~/arduino-1.8.3

env:
  global:
  - ARDUINO_PATH="~/arduino-1.8.3"

script: mkdir -p build && cd build && cmake .. && make arduino-cmake-template.hex
